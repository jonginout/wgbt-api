<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 매퍼 연결 -->
<mapper namespace="com.board.repository.mapper.UserMapper">

    <resultMap id="userMap" type="user">
        <result column="id" property="id" />
        <result column="pw" property="pw" />
        <result column="name" property="name" />
    </resultMap>

    <select id="getUser" parameterType="string" resultMap="userMap">
        SELECT * FROM users WHERE id = #{id}
    </select>

    <!--<select id="idChk" parameterType="string" resultType="int">-->
        <!--select-->
        <!--count(id)-->
        <!--from members-->
        <!--where id = #{id}-->
    <!--</select>-->

    <!--<insert id="memberInsert" parameterType="member">-->
        <!--insert into members-->
        <!--(id, pass, name, email, reg_date, address, profile_img, type)-->
        <!--values-->
        <!--(#{id}, #{pass}, #{name}, #{email}, now(), #{address}, #{profileImg}, #{type})-->
    <!--</insert>-->

    <!--<select id="memberLogin" parameterType="member" resultMap="memberMap">-->
        <!--select *-->
        <!--from members-->
        <!--where id = #{id} and pass = #{pass}-->
    <!--</select>-->

    <!--<insert id="keyInsert" parameterType="authSms">-->
        <!--insert into auth_sms-->
        <!--(auth_key, tel)-->
        <!--values-->
        <!--(#{authKey}, #{tel})-->
    <!--</insert>-->


    <!--<select id="keyChk" parameterType="authSms" resultType="int">-->
        <!--select-->
        <!--count(*)-->
        <!--from auth_sms-->
        <!--<where>-->
            <!--tel = #{tel}-->
            <!--<if test="authKey != null">-->
                <!--and auth_key = #{authKey}-->
            <!--</if>-->
        <!--</where>-->
    <!--</select>-->

    <!--<delete id="keyDelete" parameterType="authSms">-->
        <!--delete from auth_sms-->
        <!--<where>-->
            <!--tel = #{tel}-->
            <!--<if test="authKey != null">-->
                <!--and auth_key = #{authKey}-->
            <!--</if>-->
        <!--</where>-->
    <!--</delete>-->

    <!--&lt;!&ndash;  자동 로그인!  &ndash;&gt;-->
    <!--<insert id="autoLoginInsert" parameterType="autoLogin">-->
        <!--insert into auto_login-->
        <!--(member_no, session_id, limit_time)-->
        <!--values-->
        <!--(#{memberNo}, #{sessionId}, #{limitTime})-->
    <!--</insert>-->

    <!--<update id="autoLoginUpdate" parameterType="int">-->
        <!--UPDATE auto_login-->
        <!--SET limit_time = now()-->
        <!--WHERE member_no = #{memberNo};-->
    <!--</update>-->

    <!--<select id="autoLoginChk" resultMap="autoLoginMap" parameterType="autoLogin">-->
        <!--select *-->
        <!--from auto_login-->
        <!--where session_id = #{sessionId} and limit_time > now()-->
        <!--order by limit_time desc limit 1-->
    <!--</select>-->

    <!--<select id="autoLoginToMember" parameterType="int" resultMap="memberMap">-->
        <!--select *-->
        <!--from members-->
        <!--where member_no = #{memberNo}-->
    <!--</select>-->


    <!--<select id="pwChk" parameterType="member" resultMap="memberMap">-->
        <!--select *-->
        <!--from members-->
        <!--where member_no = #{memberNo} and id = #{id} and pass = #{pass}-->
    <!--</select>-->

    <!--<update id="lockUpdate" parameterType="member">-->
        <!--UPDATE members-->
        <!--SET lock_mode = #{lockMode}-->
        <!--where member_no = #{memberNo}-->
    <!--</update>-->
</mapper>




